# 동기와 비동기의 차이

동기(Synchronous)와 비동기(Asynchronous)는 작업이 실행되는 시간 순서와 결과 전달 방식에 대한 개념입니다.

---

## 1. 동기(Synchronous)
- 작업이 모두 끝날 때까지 기다림(Blocking)
- 결과를 받아야 그 다음 코드가 실행됨

**예시 코드(Java)**

```java
// 동기 방식: 파일 두 개를 순차적으로 읽음
String content1 = Files.readString(Path.of("file1.txt"));
System.out.println("file1 완료");
String content2 = Files.readString(Path.of("file2.txt"));
System.out.println("file2 완료");
// file1 완료 -> file2 완료 순서대로 반드시 출력됨
```

### 블로킹과 동기는 어떤 차이가 있나요?
두 개념은 유사하면서도 다른데요. `동기 호출`에서는 호출된 함수가 작업을 완료할 때까지 호출한 함수가 기다립니다. 
즉, 작업이 순차적으로 진행되는 것을 의미합니다. 

반면, `블로킹`은 함수가 호출된 후, 호출한 함수의 결과를 기다리기 위해 실행을 멈추는 상태를 의미합니다. 즉, 제어권이 반환되지 않고 대기하는 상황입니다.

---

## 2. 비동기(Asynchronous)
- 작업을 바로 반환(Non-blocking), 결과와 관계없이 다음 코드가 먼저 실행
- 완료되면 알림(콜백/리스너 등)으로 처리

**예시 코드(JavaScript)**

```javascript
// 비동기 방식: setTimeout 사용
console.log("Start");
setTimeout(() => {
  console.log("Async Finished");
}, 1000);
console.log("End");
// 실행결과: Start -> End -> Async Finished (1초 뒤 출력)
```

---

| 구분     | 동기(Sync)          | 비동기(Async)           |
|----------|---------------------|-------------------------|
| 대기방식 | 요청→결과 대기      | 요청→별도 처리, 알림    |
| 흐름제어 | 순차진행            | 병렬/콜백 처리          |
| 예시     | 파일복사 후 다음작업 | 비동기 요청, UI이벤트   |

---

## 스프링에서 비동기 처리는 어떻게 하며 무엇을 주의해야 하나요?
스프링에서는 `@Async` 어노테이션을 사용하여 비동기 처리를 수행할 수 있습니다. 해당 어노테이션을 사용하기 위해서는 몇 가지 주의할 부분이 있는데요. 

1. 기본적으로 `@Async` 가 적용된 메서드에서 발생하는 예외는 호출자에게 전파되지 않습니다. 비동기 메서드에서 예외를 정상적으로 처리하기 위해서는 별도의 비동기 예외 처리기를 사용해야 합니다.
2. 또한, `@Async` 어노테이션은 **프록시 기반으로 동작**하기 때문에 같은 클래스 내부에서 직접 호출하는 경우 별도의 스레드에서 메서드가 실행되지 않습니다. 그리고, 비동기 메서드 내에서 생성한 트랜잭션은 상위 트랜잭션과 무관한 생명주기를 가집니다.

---

## 실무 활용 예시
- 동기: DB 트랜잭션(완료 후 응답), 전통적인 메서드 호출
- 비동기: 서버 푸시, 이메일 전송, 대용량 파일 업로드, 이벤트 리스너

---

## 참고자료
- [동기 처리가 뭐고, 비동기 처리가 뭐에요? (velog)](https://velog.io/@dev_choi/%EB%8F%99%EA%B8%B0%EC%B2%98%EB%A6%AC%EA%B0%80-%EB%AD%90%EA%B3%A0-%EB%B9%84%EB%8F%99%EA%B8%B0%EC%B2%98%EB%A6%AC%EA%B0%80-%EB%AD%90%EC%97%90%EC%9A%94)
- [[10분 테코톡] 호기의 blocking VS non-blocking, sync VS async](https://www.youtube.com/watch?v=cmBFGSrHKnM)
- [[테코블] 동기와 비동기 with webClient](https://tecoble.techcourse.co.kr/post/2021-10-20-synchronous-asynchronous/)
- [[Spring] @Async와 스레드풀](https://xxeol.tistory.com/44)
