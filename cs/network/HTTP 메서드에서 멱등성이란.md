## 멱등성(Idempotency)이란?

연산을 여러 번 적용하더라도 결과가 달라지지 않는 성질을 **멱등성**이라고 합니다.  
HTTP 메서드에서 멱등성이란 **동일한 요청을 한 번 보내는 것과 여러 번 보내는 것이 동일한 효과를 지니며, 서버의 상태도 동일하게 유지되는 경우**를 의미합니다.  

대표적으로 **멱등한 HTTP 메서드**는:

- `GET`, `HEAD`, `PUT`, `DELETE`, `TRACE`, `OPTIONS` 가 있습니다.

---

## 멱등성은 어떻게 활용될 수 있나요? 🤔

모종의 이유로 **전송 커넥션이 끊어졌을 때**, 클라이언트가 동일한 요청을 다시 보내도 되는지를 판단하는 근거가 될 수 있습니다.  
멱등한 연산이라면 동일한 요청을 여러 번 보내도 **서버의 상태가 변경되지 않기 때문에** 안전하게 재시도할 수 있습니다.  

### 예제: 결제 API에서의 멱등성

1. 사용자가 **결제 요청**을 보냈지만, 타임아웃이 발생하여 응답을 받지 못한 상황을 가정해 봅시다.
2. 만약 **멱등하지 않은 결제 API**라면:
   - 클라이언트는 결제가 정상적으로 처리되었는지 **수동으로 확인**해야 합니다.
   - 중복 요청 시 **중복 결제 문제가 발생할 가능성**이 있습니다.
3. 반면, **멱등한 결제 API**라면:
   - 동일한 요청을 여러 번 보내도 **한 번만 결제가 처리**됩니다.
   - 중복 결제를 방지할 수 있습니다.

즉, **멱등성을 보장하는 API**는 네트워크 오류가 발생하더라도 안전하게 **재시도**할 수 있는 이점을 제공합니다.  
이러한 특징 때문에 결제 시스템, 데이터 저장 API 등에서는 멱등성을 고려하여 설계하는 것이 중요합니다.

---

### 참고 자료
- [토스페이먼츠 - 멱등성이 뭔가요?](https://velog.io/@tosspayments/%EB%A9%B1%EB%93%B1%EC%84%B1%EC%9D%B4-%EB%AD%94%EA%B0%80%EC%9A%94)
- [[HTTP] HTTP 메소드의 멱등성(Idempotence)과 Delete 메소드가 멱등한 이유](https://mangkyu.tistory.com/251)
- [HTTP 멱등성(idempotency): 개념에서 적용까지](https://rice-honey.tistory.com/8)
