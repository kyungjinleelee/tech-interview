# 사용자가 웹사이트에 처음 접근했을 때 발생하는 과정

## 1. 사용자가 웹사이트 주소 입력
사용자가 브라우저의 주소창에 `www.google.com`을 입력하면, 브라우저는 해당 웹사이트에 접근하기 위해 여러 단계를 거쳐 요청을 처리합니다.

## 2. DNS 조회 (Domain Name System)
브라우저는 웹사이트의 실제 IP 주소를 알아야 하므로, **DNS 서버**에 질의합니다.

- **DNS 프로세스**:
  1. 브라우저의 캐시 확인 (이전에 방문한 적이 있는 경우)
  2. 로컬 운영체제의 DNS 캐시 확인
  3. ISP(인터넷 서비스 제공자)의 DNS 서버 조회
  4. 최종적으로 루트 네임서버 및 권한 있는 네임서버 조회

- 예를 들어, `www.google.com`의 IP 주소가 `142.250.190.78`이라면, DNS 서버는 해당 정보를 반환합니다.

> **📌 관련 개념:** DNS는 **애플리케이션 계층 (OSI 7계층)**에서 동작합니다.

---

## 3. TCP 연결 설정 (3-Way Handshake)
브라우저는 IP 주소를 얻은 후, **구글 서버와 통신을 시작**합니다.  
이때, HTTP는 TCP/IP 프로토콜을 기반으로 작동하므로, 데이터를 주고받기 전에 **TCP 3-Way Handshake** 과정을 거칩니다.

### **3-Way Handshake 과정 (전송 계층)**
1. **SYN**: 클라이언트 → 서버 (`연결 요청`)
2. **SYN-ACK**: 서버 → 클라이언트 (`요청 확인`)
3. **ACK**: 클라이언트 → 서버 (`연결 완료`)

> **📌 관련 개념:** TCP 연결 설정은 **전송 계층 (OSI 4계층)**에서 이루어집니다.

---

## 4. HTTP 요청 전송 (Request)
TCP 연결이 성립되면, 브라우저는 **HTTP Request** 메시지를 생성하여 서버에 전송합니다.

- 요청 예시: GET / HTTP/1.1 Host: www.google.com

- HTTP 요청 과정:
1. 브라우저는 요청을 생성한 후, **TCP 프로토콜**을 통해 **80번 포트 (HTTP) 또는 443번 포트 (HTTPS)** 로 전송
2. 네트워크 계층(3계층)에서는 **IP 주소**를 사용하여 패킷을 전달
3. 데이터 링크 계층(2계층)에서는 **MAC 주소**를 사용하여 이더넷 또는 Wi-Fi 네트워크를 통해 데이터를 전송

> **📌 관련 개념:**  
> - HTTP는 **애플리케이션 계층 (OSI 7계층)**에서 동작  
> - IP 주소는 **네트워크 계층 (OSI 3계층)**에서 사용  
> - MAC 주소는 **데이터 링크 계층 (OSI 2계층)**에서 사용

---

## 5. 서버 응답 (Response)
구글 서버는 클라이언트의 요청을 처리한 후, **HTTP Response** 메시지를 생성하여 응답합니다. 
서버는 요청이 성공했음을 알리는 200 OK 상태 코드와 함께 웹 페이지 데이터를 전송합니다.

- 응답 예시: HTTP/1.1 200 OK Content-Type: text/html

- 주요 HTTP 응답 상태 코드:
- **200 OK**: 요청 성공
- **301 Moved Permanently**: 영구 리디렉션
- **404 Not Found**: 요청한 페이지 없음
- **500 Internal Server Error**: 서버 내부 오류

---

## 6. 페이지 렌더링 (Rendering)
이 응답을 받아 HTML, CSS, 자바스크립트 등의 데이터를 해석하여 화면에 페이지를 렌더링합니다.

---

## 7. TCP 연결 종료 (4-Way Handshake)
모든 데이터 전송이 완료되면 클라이언트와 서버는 **4-Way Handshake** 과정을 거쳐 **TCP 연결을 종료**합니다.

### **4-Way Handshake 과정**
1. **FIN**: 클라이언트 → 서버 (`연결 종료 요청`)
2. **ACK**: 서버 → 클라이언트 (`요청 확인`)
3. **FIN**: 서버 → 클라이언트 (`연결 종료 요청`)
4. **ACK**: 클라이언트 → 서버 (`요청 확인 후 종료`)

---

## 🌟 정리: 전체 과정 요약
1. 사용자가 브라우저에 웹사이트 주소 입력
2. DNS 조회 후 IP 주소 획득
3. TCP 3-Way Handshake로 서버와 연결
4. 브라우저가 HTTP Request를 서버로 전송
5. 서버가 HTTP Response를 클라이언트에 응답
6. 브라우저가 HTML, CSS, JavaScript를 파싱하여 웹페이지 렌더링
7. TCP 4-Way Handshake로 연결 종료




