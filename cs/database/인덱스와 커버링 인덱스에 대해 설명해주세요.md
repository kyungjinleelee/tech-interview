# 인덱스와 커버링 인덱스에 대해 설명해주세요.

## 1. 인덱스(Index)란?

인덱스는 데이터베이스 테이블에서 검색 속도를 높이기 위해 사용하는 자료구조입니다.  
책의 목차처럼, 원하는 데이터를 효율적으로 찾을 수 있게 해주는 역할을 합니다.

- **동작 원리:**  
  일반적으로 `B-Tree`, `Hash` 등으로 구성되며,  
  테이블의 특정 컬럼 값을 기준으로 정렬하고 참조를 저장함으로써  
  전체 데이터를 모두 스캔(Full Scan)하지 않고도 조회할 수 있게 해줍니다.

- **종류:**  
  - 기본(Basic) 인덱스(Primary Index): PK(Primary Key), Unique 제약 조건 컬럼 등에 자동 생성
  - 보조(Secondary) 인덱스: 개발자가 필요한 컬럼에 직접 추가
  - 복합(Composite) 인덱스: 두 개 이상의 컬럼 조합에 대해 인덱스를 생성

- **장점:**  
  - SELECT, WHERE, JOIN, ORDER BY 등에서 성능을 크게 향상
- **단점:**  
  - INSERT/UPDATE/DELETE 시 인덱스 유지 오버헤드 발생
  - 너무 많은 인덱스는 오히려 성능 저하

---

## 2. 커버링 인덱스(Covering Index)란?

커버링 인덱스란, 쿼리에서 필요한 모든 컬럼이 인덱스에 포함되어 있어  
실제로 테이블의 데이터 파일(레코드)에 접근하지 않고  
인덱스만으로 쿼리를 처리할 수 있는 인덱스 유형입니다.

- **기본 원리:**  
  일반적인 인덱스를 사용할 때,  
  '인덱스 → 테이블 데이터 조회(레이블 또는 rowid)' 2단계 작업이 필요합니다.  
  하지만 커버링 인덱스는 쿼리에서 사용하는 컬럼 전부가 인덱스에 포함되므로,  
  인덱스만 읽으면 쿼리가 해결되어 테이블의 데이터 영역까지 내려갈 필요가 없습니다.

- **장점:**  
  - I/O 감소 및 쿼리 성능 극대화
  - 특히 대용량 테이블에서 효과가 큼

- **예시:**  
  ```sql
  -- 복합 인덱스 (name, age) 생성
  CREATE INDEX idx_name_age ON users (name, age);

  -- covering index 적합 예시
  SELECT name, age FROM users WHERE name = 'jin';
  ```
  위 쿼리는 name, age 컬럼만 조회하므로,  
  해당 인덱스만으로 결과를 반환(테이블 접근 불필요)!

- **주의점:**  
  - 모든 쿼리가 커버링 인덱스 적용 대상은 아님
  - 지나치게 많은 컬럼을 인덱스에 포함하면 인덱스 크기만 커져 비효율적

---

## 3. 요약

| 구분       | 인덱스(Index)     | 커버링 인덱스(Covering Index)      |
|------------|-------------------|------------------------------------|
| 목적       | 검색(조회) 속도 향상 | 인덱스만으로 쿼리를 처리           |
| 동작 방식  | 인덱스 + 테이블 데이터 접근 | 인덱스만 접근(테이블 데이터 미접근) |
| 장점       | 빠른 검색          | 추가적인 I/O 감소, 최적 성능        |
| 예시       | PK, 일반 인덱스    | 복합 인덱스를 활용, select 컬럼=인덱스 컬럼 |

---

## 참고자료

- [MySQL 공식 문서 - 인덱스 최적화](https://dev.mysql.com/doc/refman/8.0/en/mysql-indexes.html)
- [커버링 인덱스 설명 블로그](https://jojoldu.tistory.com/243)
- [Database Index vs. Covering Index (Stack Overflow)](https://stackoverflow.com/questions/16197350/what-is-a-covering-index)
